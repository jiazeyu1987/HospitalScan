# 手动启动和查看指南

## 步骤1: 启动后端服务
```bash
# 进入后端目录
cd /workspace/backend

# 安装依赖（如果未安装）
pip install flask flask-sqlalchemy flask-cors apscheduler beautifulsoup4 lxml pandas openpyxl flask-migrate

# 启动后端服务
python run.py
```

**预期输出**:
```
医院监控系统启动
基础数据初始化完成!
任务调度器启动成功
添加重复任务成功: tender_monitor
添加重复任务成功: hospital_scan
添加重复任务成功: daily_report
添加重复任务成功: weekly_report
* Running on http://127.0.0.1:5000
```

## 步骤2: 启动前端服务
```bash
# 进入前端目录
cd /workspace/hospital-monitor-antd

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

**预期输出**:
```
VITE v6.0.1  ready in xxx ms

➜  Local:   http://localhost:3000/
➜  Network: use --host to expose
```

## 步骤3: 访问前端应用

打开浏览器访问: **http://localhost:3000**

### 主要页面导航：

1. **首页仪表板** - http://localhost:3000/
   - 系统统计概览
   - 快速操作入口
   - 最近动态

2. **医院管理** - http://localhost:3000/hospitals
   - 医院列表展示
   - 搜索和筛选功能
   - 添加/编辑医院
   - 批量操作

3. **招投标监控** - http://localhost:3000/tenders
   - 招投标数据列表
   - 按医院筛选
   - 状态和类型筛选
   - 导出Excel功能

4. **行政区划** - http://localhost:3000/regions
   - 树形结构展示
   - 地区医院统计
   - 懒加载功能

5. **爬虫控制台** - http://localhost:3000/crawler
   - 启动/停止爬虫
   - 实时状态监控
   - 扫描进度显示

6. **系统设置** - http://localhost:3000/settings
   - 爬虫参数配置
   - 通知设置
   - 系统配置

## 数据验证

### 检查后端API
```bash
# 健康检查
curl http://localhost:5000/api/v1/health

# 获取医院列表
curl http://localhost:5000/api/v1/hospitals

# 获取地区树形数据
curl http://localhost:5000/api/v1/regions

# 获取招投标数据
curl http://localhost:5000/api/v1/tenders
```

### 前端数据验证
在前端页面中，您应该能看到：

1. **真实的医院数据**（不是测试数据）
2. **真实的行政区划**（483个地区记录）
3. **真实的招投标信息**（从爬虫获取）
4. **实时状态显示**（爬虫运行状态）
5. **完整的操作功能**（增删改查、导出等）

## 常见问题解决

### 问题1: 后端启动失败
**解决方案**:
```bash
# 检查依赖
pip list | grep flask

# 重新安装依赖
pip install -r requirements.txt

# 检查端口占用
lsof -i :5000
```

### 问题2: 前端启动失败
**解决方案**:
```bash
# 清理缓存
rm -rf node_modules package-lock.json
npm install

# 检查Node版本
node --version  # 需要 >= 16
```

### 问题3: API调用失败
**解决方案**:
```bash
# 检查后端是否运行
curl http://localhost:5000/api/v1/health

# 检查CORS配置
# 后端应该允许前端域名访问
```

### 问题4: 数据为空
**解决方案**:
```bash
# 重新初始化数据库
python run.py --init-db

# 检查数据库文件
ls -la backend/instance/
```

## 功能测试清单

### ✅ 基础功能测试
- [ ] 主页加载正常
- [ ] 左侧导航菜单工作
- [ ] 医院列表显示
- [ ] 医院详情查看
- [ ] 招投标数据展示

### ✅ 交互功能测试
- [ ] 搜索功能
- [ ] 筛选功能
- [ ] 分页功能
- [ ] 表单提交
- [ ] 页面跳转

### ✅ 数据功能测试
- [ ] API接口响应
- [ ] 实时状态更新
- [ ] 数据导出功能
- [ ] 批量操作
- [ ] 错误处理

## 性能监控

### 监控指标
- **API响应时间**: < 2秒
- **页面加载时间**: < 3秒
- **数据库查询**: < 1秒
- **前端构建**: < 30秒

### 资源使用
- **后端内存**: < 100MB
- **前端内存**: < 50MB
- **数据库大小**: 实时增长
- **网络带宽**: 根据扫描任务

## 部署建议

### 开发环境
- 后端: Flask开发服务器
- 前端: Vite开发服务器
- 数据库: SQLite本地文件

### 生产环境
- 后端: Gunicorn + Nginx
- 前端: 静态文件部署
- 数据库: PostgreSQL
- 缓存: Redis
- 消息队列: Celery
